{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { takeWhile } from 'rxjs/operators';\nimport { select } from '@ngrx/store';\nimport * as fromProduct from '../state/product.reducer';\nimport * as productActions from '../state/product.actions';\nlet ProductListComponent = class ProductListComponent {\n  constructor(store) {\n    this.store = store;\n    this.pageTitle = 'Products';\n    this.componentActive = true;\n  }\n\n  ngOnInit() {\n    this.products$ = this.store.pipe(select(fromProduct.getProducts));\n    this.errorMessage$ = this.store.pipe(select(fromProduct.getError));\n    this.store.dispatch(new productActions.Load());\n    this.store.pipe(select(fromProduct.getCurrentProduct), takeWhile(() => this.componentActive)).subscribe(currentProduct => this.selectedProduct = currentProduct);\n    this.store.pipe(select(fromProduct.getShowProductCode), takeWhile(() => this.componentActive)).subscribe(showProductCode => this.displayCode = showProductCode);\n  }\n\n  ngOnDestroy() {\n    this.componentActive = false;\n  }\n\n  checkChanged(value) {\n    this.store.dispatch(new productActions.ToggleProductCode(value));\n  }\n\n  newProduct() {\n    this.store.dispatch(new productActions.InitializeCurrentProduct());\n  }\n\n  productSelected(product) {\n    this.store.dispatch(new productActions.SetCurrentProduct(product));\n  }\n\n};\nProductListComponent = __decorate([Component({\n  selector: 'pm-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})], ProductListComponent);\nexport { ProductListComponent };","map":null,"metadata":{},"sourceType":"module"}